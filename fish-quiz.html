<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fly Fishing Fish ID Quiz</title>

  <style>
    :root{
      --bg:#0b1220;
      --card:#121b2f;
      --text:#e8eefc;
      --muted:#b9c7ff;
      --border:rgba(255,255,255,0.12);
      --accent:#4ea1ff;
      --good:#2dd4bf;
      --bad:#fb7185;
    }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1000px 600px at 15% 10%, rgba(78,161,255,0.25), transparent),
                  radial-gradient(900px 700px at 90% 25%, rgba(45,212,191,0.18), transparent),
                  var(--bg);
      color:var(--text);
    }

    .topbar{
      position: sticky;
      top:0;
      z-index:10;
      backdrop-filter: blur(10px);
      background: rgba(10,15,30,0.75);
      border-bottom: 1px solid var(--border);
    }
    .nav{
      max-width: 980px;
      margin: 0 auto;
      padding: 14px 16px;
      display:flex;
      gap:10px;
      flex-wrap: wrap;
      align-items:center;
    }
    .nav a{
      color: var(--text);
      text-decoration: none;
      font-weight: 600;
      opacity: .92;
    }
    .nav a:hover{ opacity:1; text-decoration: underline; }
    .divider{ opacity:.45; }

    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 22px 16px 60px;
    }

    .card{
      background: rgba(18,27,47,0.88);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.25);
    }

    h1{ margin: 0 0 6px; letter-spacing: .2px; }
    .sub{ margin: 0 0 16px; color: var(--muted); }

    .grid{
      display:grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 16px;
    }
    @media (max-width: 880px){
      .grid{ grid-template-columns: 1fr; }
    }

    .photo{
      border: 1px solid var(--border);
      border-radius: 14px;
      overflow: hidden;
      background: rgba(255,255,255,0.03);
    }
    .photo img{
      width:100%;
      height: 420px;
      object-fit: cover;
      display:block;
    }
    @media (max-width: 880px){
      .photo img{ height: 320px; }
    }

    .panel{
      display:flex;
      flex-direction:column;
      gap: 12px;
    }

    .stats{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 8px;
    }
    .pill{
      border: 1px solid var(--border);
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.03);
      color: var(--muted);
      font-weight: 600;
      font-size: 14px;
    }
    .pill strong{ color: var(--text); }

    .choices{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    button.choice{
      cursor:pointer;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      color: var(--text);
      font-weight: 700;
      text-align:left;
      transition: transform .05s ease, border-color .2s ease, background .2s ease;
    }
    button.choice:hover{
      border-color: rgba(78,161,255,0.6);
      background: rgba(78,161,255,0.12);
    }
    button.choice:active{ transform: translateY(1px); }

    .msg{
      min-height: 22px;
      font-weight: 800;
      letter-spacing:.2px;
    }
    .msg.good{ color: var(--good); }
    .msg.bad{ color: var(--bad); }

    .actions{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 6px;
    }
    .btn{
      cursor:pointer;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      color: var(--text);
      font-weight: 800;
    }
    .btn.primary{
      border-color: rgba(78,161,255,0.6);
      background: rgba(78,161,255,0.15);
    }
    .btn:hover{ opacity: .95; }

    .note{
      color: var(--muted);
      font-size: 14px;
      margin-top: 10px;
      line-height: 1.4;
    }
  </style>
</head>

<body>
  <header class="topbar">
    <nav class="nav">
      <a href="index.html">Home</a>
      <span class="divider">|</span>
      <a href="resume.html">Resume</a>
      <span class="divider">|</span>
      <a href="scratch.html">Fly Fishing</a>
      <span class="divider">|</span>
      <a href="fish-quiz.html">Fish ID Quiz</a>
    </nav>
  </header>

  <main class="wrap">
    <section class="card">
      <h1>Fly Fishing Fish ID Quiz</h1>
      <p class="sub">Look at the picture and pick the correct fish. (Images load from <code>assets/img/</code>.)</p>

      <div class="grid">
        <div class="photo">
          <img id="fishImage" src="" alt="Fish to identify" />
        </div>

        <div class="panel">
          <div class="stats">
            <div class="pill">Question: <strong id="qNum">1</strong>/<strong id="qTotal">7</strong></div>
            <div class="pill">Score: <strong id="score">0</strong></div>
          </div>

          <div id="message" class="msg"></div>

          <div id="choices" class="choices"></div>

          <div class="actions">
            <button class="btn primary" id="nextBtn">Next Fish</button>
            <button class="btn" id="restartBtn">Restart</button>
          </div>

          <p class="note">
            If an image still doesn’t show, double-check the filename in <code>assets/img/</code> matches exactly
            (including spaces and capitalization).
          </p>
        </div>
      </div>
    </section>
  </main>

  <script>
    // EXACT filenames seen in your assets/img folder (including spaces)
    const fishBank = [
      { name: "Bluegill",        file: "bluegill.png" },
      { name: "Brook Trout",     file: "brook trout.png" },
      { name: "Brown Trout",     file: "brownttrout .jpeg" },
      { name: "Cutthroat Trout", file: "cutthroat trout .webp" },
      { name: "Rainbow Trout",   file: "rainbow trout .jpeg" },
      { name: "Smallmouth Bass", file: "smallmouth bass.png" },
      { name: "Tiger Trout",     file: "tiger trout.jpeg" }
    ];

    const imgEl   = document.getElementById("fishImage");
    const choices = document.getElementById("choices");
    const msgEl   = document.getElementById("message");
    const scoreEl = document.getElementById("score");
    const qNumEl  = document.getElementById("qNum");
    const qTotEl  = document.getElementById("qTotal");
    const nextBtn = document.getElementById("nextBtn");
    const restartBtn = document.getElementById("restartBtn");

    let order = [];
    let idx = 0;
    let score = 0;
    let locked = false;

    qTotEl.textContent = fishBank.length;

    function shuffle(arr){
      const a = [...arr];
      for(let i=a.length-1; i>0; i--){
        const j = Math.floor(Math.random() * (i+1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function setMessage(text, type){
      msgEl.textContent = text || "";
      msgEl.className = "msg" + (type ? " " + type : "");
    }

    function makeOptions(correctName){
      // 1 correct + 3 random incorrects (or fewer if you ever reduce fish list)
      const names = fishBank.map(f => f.name);
      const wrong = shuffle(names.filter(n => n !== correctName)).slice(0, 3);
      return shuffle([correctName, ...wrong]);
    }

    function loadQuestion(){
      locked = false;
      setMessage("", "");

      const fish = order[idx];
      qNumEl.textContent = String(idx + 1);

      // Build image path safely (handles spaces)
      const path = "assets/img/" + fish.file;
      imgEl.src = encodeURI(path);

      // Build choices
      const opts = makeOptions(fish.name);
      choices.innerHTML = "";
      opts.forEach(label => {
        const btn = document.createElement("button");
        btn.className = "choice";
        btn.textContent = label;
        btn.addEventListener("click", () => pick(label, fish.name));
        choices.appendChild(btn);
      });
    }

    function pick(chosen, correct){
      if(locked) return;
      locked = true;

      if(chosen === correct){
        score++;
        scoreEl.textContent = String(score);
        setMessage("Correct ✅", "good");
      } else {
        setMessage("Not quite ❌ Correct answer: " + correct, "bad");
      }
    }

    function next(){
      if(idx < order.length - 1){
        idx++;
        loadQuestion();
      } else {
        setMessage("Quiz complete! Final score: " + score + "/" + order.length, "good");
      }
    }

    function restart(){
      order = shuffle(fishBank);
      idx = 0;
      score = 0;
      scoreEl.textContent = "0";
      loadQuestion();
    }

    nextBtn.addEventListener("click", next);
    restartBtn.addEventListener("click", restart);

    restart();
  </script>
</body>
</html>

